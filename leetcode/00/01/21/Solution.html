<div class="content__QRGW">
    <div>
        <h2>Solution</h2>
        <p>We need to find out the maximum difference (which will be the maximum profit) between two numbers in the
            given array. Also, the second number (selling price) must be larger than the first one (buying price).</p>
        <p>In formal terms, we need to find <span class="katex"><span class="katex-mathml"><math>
                        <semantics>
                            <mrow>
                                <mi>max</mi>
                                <mo>⁡</mo>
                                <mo>(</mo>
                                <mtext>prices[j]</mtext>
                                <mo>−</mo>
                                <mtext>prices[i]</mtext>
                                <mo>)</mo>
                            </mrow>
                            <annotation encoding="application/x-tex">\max(\text{prices[j]} - \text{prices[i]})
                            </annotation>
                        </semantics>
                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                            style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span
                            class="mopen">(</span><span class="mord text"><span
                                class="mord">prices[j]</span></span><span class="mspace"
                            style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span
                            class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span
                        class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span
                            class="mord text"><span class="mord">prices[i]</span></span><span
                            class="mclose">)</span></span></span></span>, for every <span class="katex"><span
                    class="katex-mathml"><math>
                        <semantics>
                            <mrow>
                                <mi>i</mi>
                            </mrow>
                            <annotation encoding="application/x-tex">i</annotation>
                        </semantics>
                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                            style="height:0.65952em;vertical-align:0em;"></span><span
                            class="mord mathdefault">i</span></span></span></span> and <span class="katex"><span
                    class="katex-mathml"><math>
                        <semantics>
                            <mrow>
                                <mi>j</mi>
                            </mrow>
                            <annotation encoding="application/x-tex">j</annotation>
                        </semantics>
                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                            style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault"
                            style="margin-right:0.05724em;">j</span></span></span></span> such that <span
                class="katex"><span class="katex-mathml"><math>
                        <semantics>
                            <mrow>
                                <mi>j</mi>
                                <mo>&gt;</mo>
                                <mi>i</mi>
                            </mrow>
                            <annotation encoding="application/x-tex">j &gt; i</annotation>
                        </semantics>
                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                            style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault"
                            style="margin-right:0.05724em;">j</span><span class="mspace"
                            style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span
                            class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span
                        class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span
                            class="mord mathdefault">i</span></span></span></span>.</p>
        <hr>
        <h4 id="approach-1-brute-force">Approach 1: Brute Force</h4>
        <iframe src="https://leetcode.com/playground/tVDNcEFQ/shared" name="tVDNcEFQ" width="100%" height="276"
            frameborder="0"></iframe>
        <p><strong>Complexity Analysis</strong></p>
        <ul>
            <li>
                <p>Time complexity : <span class="katex"><span class="katex-mathml"><math>
                                <semantics>
                                    <mrow>
                                        <mi>O</mi>
                                        <mo>(</mo>
                                        <msup>
                                            <mi>n</mi>
                                            <mn>2</mn>
                                        </msup>
                                        <mo>)</mo>
                                    </mrow>
                                    <annotation encoding="application/x-tex">O(n^2)</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span
                                    class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span
                                    class="mord mathdefault" style="margin-right:0.02778em;">O</span><span
                                    class="mopen">(</span><span class="mord"><span
                                        class="mord mathdefault">n</span><span class="msupsub"><span
                                            class="vlist-t"><span class="vlist-r"><span class="vlist"
                                                    style="height:0.8141079999999999em;"><span
                                                        style="top:-3.063em;margin-right:0.05em;"><span class="pstrut"
                                                            style="height:2.7em;"></span><span
                                                            class="sizing reset-size6 size3 mtight"><span
                                                                class="mord mtight">2</span></span></span></span></span></span></span></span><span
                                    class="mclose">)</span></span></span></span>. Loop runs <span class="katex"><span
                            class="katex-mathml"><math>
                                <semantics>
                                    <mrow>
                                        <mfrac>
                                            <mrow>
                                                <mi>n</mi>
                                                <mo>(</mo>
                                                <mi>n</mi>
                                                <mo>−</mo>
                                                <mn>1</mn>
                                                <mo>)</mo>
                                            </mrow>
                                            <mn>2</mn>
                                        </mfrac>
                                    </mrow>
                                    <annotation encoding="application/x-tex">\dfrac{n (n-1)}{2}</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span
                                    class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span
                                    class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
                                            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"
                                                    style="height:1.427em;"><span style="top:-2.314em;"><span
                                                            class="pstrut" style="height:3em;"></span><span
                                                            class="mord"><span class="mord">2</span></span></span><span
                                                        style="top:-3.23em;"><span class="pstrut"
                                                            style="height:3em;"></span><span class="frac-line"
                                                            style="border-bottom-width:0.04em;"></span></span><span
                                                        style="top:-3.677em;"><span class="pstrut"
                                                            style="height:3em;"></span><span class="mord"><span
                                                                class="mord mathdefault">n</span><span
                                                                class="mopen">(</span><span
                                                                class="mord mathdefault">n</span><span class="mspace"
                                                                style="margin-right:0.2222222222222222em;"></span><span
                                                                class="mbin">−</span><span class="mspace"
                                                                style="margin-right:0.2222222222222222em;"></span><span
                                                                class="mord">1</span><span
                                                                class="mclose">)</span></span></span></span><span
                                                    class="vlist-s">​</span></span><span class="vlist-r"><span
                                                    class="vlist"
                                                    style="height:0.686em;"><span></span></span></span></span></span><span
                                        class="mclose nulldelimiter"></span></span></span></span></span> times.</p>
            </li>
            <li>
                <p>Space complexity : <span class="katex"><span class="katex-mathml"><math>
                                <semantics>
                                    <mrow>
                                        <mi>O</mi>
                                        <mo>(</mo>
                                        <mn>1</mn>
                                        <mo>)</mo>
                                    </mrow>
                                    <annotation encoding="application/x-tex">O(1)</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span
                                    class="strut" style="height:1em;vertical-align:-0.25em;"></span><span
                                    class="mord mathdefault" style="margin-right:0.02778em;">O</span><span
                                    class="mopen">(</span><span class="mord">1</span><span
                                    class="mclose">)</span></span></span></span>. Only two variables - <span
                        class="katex"><span class="katex-mathml"><math>
                                <semantics>
                                    <mrow>
                                        <mtext>maxprofit</mtext>
                                    </mrow>
                                    <annotation encoding="application/x-tex">\text{maxprofit}</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span
                                    class="strut"
                                    style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span
                                    class="mord text"><span class="mord">maxprofit</span></span></span></span></span>
                    and <span class="katex"><span class="katex-mathml"><math>
                                <semantics>
                                    <mrow>
                                        <mtext>profit</mtext>
                                    </mrow>
                                    <annotation encoding="application/x-tex">\text{profit}</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span
                                    class="strut"
                                    style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span
                                    class="mord text"><span class="mord">profit</span></span></span></span></span> are
                    used.
                    <br>
                    <br>
                </p>
            </li>
        </ul>
        <hr>
        <h4 id="approach-2-one-pass">Approach 2: One Pass</h4>
        <p><strong>Algorithm</strong></p>
        <p>Say the given array is:</p>
        <p>[7, 1, 5, 3, 6, 4]</p>
        <p>If we plot the numbers of the given array on a graph, we get:</p>
        <p><img src="121_profit_graph.png" alt="Profit Graph"></p>
        <p>The points of interest are the peaks and valleys in the given graph. We need to find the largest peak
            following the smallest valley.
            We can maintain two variables - minprice and maxprofit corresponding to the smallest valley and maximum
            profit (maximum difference between selling price and minprice) obtained so far respectively.</p>
        <iframe src="https://leetcode.com/playground/WQBerWww/shared" name="WQBerWww" width="100%" height="276"
            frameborder="0"></iframe>
        <p><strong>Complexity Analysis</strong></p>
        <ul>
            <li>
                <p>Time complexity : <span class="katex"><span class="katex-mathml"><math>
                                <semantics>
                                    <mrow>
                                        <mi>O</mi>
                                        <mo>(</mo>
                                        <mi>n</mi>
                                        <mo>)</mo>
                                    </mrow>
                                    <annotation encoding="application/x-tex">O(n)</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span
                                    class="strut" style="height:1em;vertical-align:-0.25em;"></span><span
                                    class="mord mathdefault" style="margin-right:0.02778em;">O</span><span
                                    class="mopen">(</span><span class="mord mathdefault">n</span><span
                                    class="mclose">)</span></span></span></span>. Only a single pass is needed.</p>
            </li>
            <li>
                <p>Space complexity : <span class="katex"><span class="katex-mathml"><math>
                                <semantics>
                                    <mrow>
                                        <mi>O</mi>
                                        <mo>(</mo>
                                        <mn>1</mn>
                                        <mo>)</mo>
                                    </mrow>
                                    <annotation encoding="application/x-tex">O(1)</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span
                                    class="strut" style="height:1em;vertical-align:-0.25em;"></span><span
                                    class="mord mathdefault" style="margin-right:0.02778em;">O</span><span
                                    class="mopen">(</span><span class="mord">1</span><span
                                    class="mclose">)</span></span></span></span>. Only two variables are used.</p>
            </li>
        </ul>
    </div>
</div>
<link rel="stylesheet" href="../../../boilerplate/simple.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
    integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">